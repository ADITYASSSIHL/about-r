<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <title>Ranges of data points</title>


<script type="text/javascript">

var div_top          = 150;
var div_left         = 150;
var div_width        =   5;
var div_gap          =   3;
var div_max_height   = 200;
var clas_width       =  60; 

var gap_between_clas = clas_width - 4*div_width - 3*div_gap;


function draw_y_lines() {

  var elem_body = document.getElementsByTagName('body') [0];

  for (var y=0; y<=1; y+=0.1) {

     var div_line = document.createElement('div');
     div_line.style.left        =  (div_left - 10) + "px";
     div_line.style.width       =  (7 * clas_width + gap_between_clas + 20 ) + "px";
     div_line.style.height      = "0px";
     div_line.style.top         =  (div_top + Math.round(div_max_height * (1-y))) + "px";
     div_line.style.borderTop   = '1px solid #ccc';
     div_line.style.position    = 'absolute';

     elem_body.appendChild(div_line);



     var div_y = document.createElement('div');
     div_y.innerHTML  = y.toFixed(1);

     div_y.style.left       = div_left - 40 + "px";
     div_y.style.top        = (div_top + Math.round(div_max_height * (1-y)) - 6) + "px";
     div_y.style.fontSize   ='12px';
     div_y.style.fontFamily ='Courier New';
     div_y.style.position   ='absolute';

     console.log(div_y);

     elem_body.appendChild(div_y);


  }

}

function draw_x_lines() {

  var heading_height = 40;

  var elem_body = document.getElementsByTagName('body') [0];
  for (var x=0; x<=7; x++) {

     if (x>0) {

       var div_line = document.createElement('div');
       div_line.style.left        =  (div_left + x*clas_width - Math.round(gap_between_clas / 2)) + "px";
       div_line.style.height      =  div_max_height + heading_height + "px";
       div_line.style.top         =  div_top -heading_height         + "px";
       div_line.style.borderLeft  = '2px solid #aaa';
       div_line.style.position    = 'absolute';


       elem_body.appendChild(div_line);

    }


    var div_clas_nr = document.createElement('div');

    div_clas_nr.innerHTML = x;
    div_clas_nr.style.fontSize   = '30px';
    div_clas_nr.style.fontFamily = 'Courier New';
    div_clas_nr.style.top        =  div_top - heading_height + 5 + "px";
    div_clas_nr.style.left       =  div_left + x*clas_width + 5 + "px";
    div_clas_nr.style.position   = 'absolute';

    elem_body.appendChild(div_clas_nr);

  }
  
}

function create_divs() {

  var elem_body = document.getElementsByTagName('body') [0];
  var divs = [];
  var div_;

  for (var clas=0; clas<4; clas++) {
    for (var d=0; d<8; d++) {

       div_ = document.createElement('div');


       if (clas == 0) {
          div_.style.backgroundColor = "#f00";
       }
       else if (clas == 1) {
          div_.style.backgroundColor = "#0f0";
       }
       else if (clas == 2) {
          div_.style.backgroundColor = "#00f";
       }
       else                {
          div_.style.backgroundColor = "#f73";
       }

       div_.style.position = 'absolute';

       div_.style.width    =  div_width + "px";
       div_.style.left     =  div_left + (d*clas_width + (div_width+div_gap)*clas) + "px";

       elem_body.appendChild(div_);
       divs.push(div_);

    }
  }

  return divs;
  
}

function set_div_positions(divs) {

  function change_width_height(clas, d, range_middle, range) {

     divs[d + clas*8].style.top    = (div_top + div_max_height * (1-range_middle) - (div_max_height/2) * range) + "px";
     divs[d + clas*8].style.height = (div_max_height * range) + "px";

  }

  change_width_height(0, 0, 0.3, 0.3);
  change_width_height(0, 1, 0.7, 0.3);
  change_width_height(0, 2, 0.4, 0.3);
  change_width_height(0, 3, 0.6, 0.3);
  change_width_height(0, 4, 0.5, 0.3);
  change_width_height(0, 5, 0.4, 0.3);
  change_width_height(0, 6, 0.5, 0.4);
  change_width_height(0, 7, 0.8, 0.2);

  change_width_height(1, 0, 0.5, 0.3);
  change_width_height(1, 1, 0.6, 0.3);
  change_width_height(1, 2, 0.4, 0.3);
  change_width_height(1, 3, 0.6, 0.3);
  change_width_height(1, 4, 0.2, 0.2);
  change_width_height(1, 5, 0.4, 0.3);
  change_width_height(1, 6, 0.3, 0.3);
  change_width_height(1, 7, 0.8, 0.2);

  change_width_height(2, 0, 0.3, 0.3);
  change_width_height(2, 1, 0.4, 0.3);
  change_width_height(2, 2, 0.4, 0.4);
  change_width_height(2, 3, 0.3, 0.2);
  change_width_height(2, 4, 0.5, 0.3);
  change_width_height(2, 5, 0.5, 0.3);
  change_width_height(2, 6, 0.6, 0.2);
  change_width_height(2, 7, 0.8, 0.2);

  change_width_height(3, 0, 0.3, 0.3);
  change_width_height(3, 1, 0.3, 0.3);
  change_width_height(3, 2, 0.4, 0.4);
  change_width_height(3, 3, 0.5, 0.3);
  change_width_height(3, 4, 0.7, 0.3);
  change_width_height(3, 5, 0.8, 0.2);
  change_width_height(3, 6, 0.5, 0.3);
  change_width_height(3, 7, 0.8, 0.2);
  
}

function div_headings() {

}

function draw() {

  draw_y_lines();
  draw_x_lines();
  var divs = create_divs();
  set_div_positions(divs);
  
}

</script>

</head>
<body onload='draw()'>
</body>
</html>
